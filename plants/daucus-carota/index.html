<!DOCTYPE html>
<title>daucus-carota</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script>
  let particles = [];

  function setup() {
    createCanvas(450, 800);
    background("white");

    for (let i = 0; i < 1; i++) {
      let particle = {
        x: width / 2,
        y: height,
        vx: random() - .5,
        vy: -2,
        d: 200,
      };
      particles.push(particle);
    }
  }

  function draw() {
    // noFill();
    stroke(40, 100, 0);

    particles.forEach((particle) => {
      const x = particle.x;
      const y = particle.y;
      const d = map(noise(frameCount / 20), 0, 1, particle.d / 2, particle.d);

      if (random() < 0.01) {
        fill("pink");
        circle(x, y, 20);
      }

      if (random() < .03 && particles.length < 100) {
        particle.d *= .6;
        const newParticle = {
          x: particle.x,
          y: particle.y,
          vx: (random() - .5) * 5,
          vy: -2,
          d: particle.d,
        };
        particles.push(newParticle);
      }

      particle.x += particle.vx;
      particle.y += particle.vy;
      fill("white");
      circle(x, y, d);
    });

    // function drawPear() {
    //   const x = width / 2 + random() * 400 - 200;
    //   const y = width / 2 + random() * 400 - 100;
    //   const d = 30 * random();
    //
    //   fill(200, 100, 0);
    //   circle(x, y, d);
    //   fill(220, 100, 0);
    //   circle(x, y + d / 2, d + 10);
    // }

    // for (let i = 0; i < 30; i++) {
    //   const x = width / 2;
    //   const y = height / 2 + height / 2 * random();
    //   const w = 30;
    //   const h = 10;
    //   rect(x, y, w, h)
    // }

    // for (let i = 0; i < 200; i++) {
    //   fill(100 + 155 * random(), 100 + 155 * random(), 0, 200);
    //   const x = width / 2 + random() * 400 - 200;
    //   const y = width / 2 + random() * 400 - 100;
    //   const d = 100 * random();
    //   circle(x, y, d);
    // }

    // for (let i = 0; i < 3; i++) {
    //   drawPear();
    // }
  }
</script>
